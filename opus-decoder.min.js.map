{"version":3,"names":["global","factory","this","exports","Worker","_interopDefaultLegacy","e","default","Worker__default","WASMAudioDecoderCommon","caller","uint8Array","Uint8Array","float32Array","Float32Array","modules","Object","defineProperties","value","WeakMap","setModule","Ref","module","set","Promise","resolve","getModule","wasmString","get","WebAssembly","compile","decodeDynString","wasm","inflateDynEncodeString","then","data","concatFloat32","buffers","length","ret","i","offset","getDecodedAudio","channelData","samplesDecoded","sampleRate","getDecodedAudioMultiChannel","input","channelsDecoded","j","channel","push","source","output","parseInt","substring","offsetReverse","byte","escaped","byteIndex","charCodeAt","subarray","puffString","String","raw","instantiate","instanceExports","Map","entries","puff","memory","dataArray","heapView","DataView","heapPos","sourceLength","sourceLengthPtr","setInt32","sourcePtr","destLengthPtr","byteLength","slice","getInt32","defineProperty","enumerable","_wasm","getOutputChannels","outputData","allocateTypedArray","len","TypedArray","ptr","_malloc","BYTES_PER_ELEMENT","_pointers","add","buf","HEAP","free","forEach","_free","clear","_module","_EmscriptenWASM","_inputSize","_outputChannels","_outputChannelSize","Set","ready","_input","_output","WASMAudioDecoderWorker","constructor","options","name","Decoder","EmscriptenWASM","webworkerSourceCode","_options","_Decoder","_WASMAudioDecoderCommon","decoder","moduleResolve","modulePromise","self","onmessage","id","command","transferList","messagePromise","messagePayload","isWebWorker","reset","assign","Array","isArray","map","buffer","postMessage","JSON","stringify","type","URL","createObjectURL","Blob","Buffer","from","toString","super","_id","Number","MIN_SAFE_INTEGER","_enqueuedOperations","rest","delete","compiled","_postToDecoder","async","finally","terminate","base64ReverseLookup","HEAPU8","_opus_frame_decoder_create","_opus_frame_decode_float_deinterleaved","_opus_frame_decoder_destroy","imports","a","b","x","Math","cos","exp","d","dest","src","num","copyWithin","c","requestedSize","what","abort","instance","asm","initRuntime","OpusDecoder","errors","_init","common","_common","mapping","_channels","_channelMappingTable","_decoder","_streamCount","_coupledStreamCount","_preSkip","_forceStereo","_ready","_decode","opusFrame","Error","console","error","decodeFrame","decodeFrames","opusFrames","outputBuffers","outputSamples","_isWebWorker","isNumber","param","channels","streamCount","coupledStreamCount","channelMappingTable","preSkip","forceStereo","OpusDecoderWebWorker","require","define","amd","globalThis"],"sources":["opus-decoder.js"],"mappings":"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"}